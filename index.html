<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Fake Detection videos</title>
    <link rel="stylesheet" href="css/index.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Google+Sans+Flex:opsz,wght@6..144,1..1000&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
<body>
<!-- header -->
<header>
    <div class="title"><a href="index.html"><h1>DFDV</h1></a></div>
    <ul>
        <li>
            <button><a href="register.html"><h3>Register</h3></a></button>
        </li>
        <li>
            <button><a href="login.html"><h3>Login</h3></a></button> 
        </li>
    </ul>
    <!-- <nav>
        <ul>
            <li>
                <a href=""><p>Contact</p></a>
            </li>
            <li>
                <a href="" class="li-3"><p>Resources</p></a>
            </li>
            <li>
                <a href=""><p>features</p></a>
            </li>
            <li>
                <a href=""><p>Use Cases</p></a>
            </li>
        </ul>
    </nav> -->
</header>
    

<!-- Body1 -->
<div class="body1">
    <div class="first">
        <h1>
            AI-powered video              
        </h1>
    </div>
    <div class="second">
        <h1> 
            creations at scale
        </h1>
    </div>
    <div class="details">
        <p>
            Effortlessly produce studio quality videos with 
            <br>AI-generated avatars and voices
        </p>
    </div>
</div>


<!-- Body2 -->
<div class="body2">
    <div class="body3">
        <!-- Upload Video -->
        <h2>AI Predict (Video Upload)</h2>
        <form id="predictForm">
            <input type="file" id="videoFile" accept="video/*" required />
            <button type="submit">Upload & Predict</button>
        </form>
    </div>
    <div class="text">
        <p>
            No credit card needed
        </p>
    </div>
</div>

<script>
    const baseURL = "https://apomictically-pseudoapologetic-merri.ngrok-free.dev";
    // https://huggingface-xfce-1.tail320964.ts.net:8443
    let token = "";

    const output = document.getElementById("output");

    function showResponse(data) {
      output.textContent = JSON.stringify(data, null, 2);
    }
    // AI Predict
    document.getElementById("predictForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      if (!token) return alert("Please log in first!");
      const formData = new FormData();
      formData.append("video", document.getElementById("videoFile").files[0]);

      const res = await fetch(`${baseURL}/ai/predict`, {
        method: "POST",
        headers: { Authorization: `Bearer ${token}` },
        body: formData
      });
      const data = await res.json();
      showResponse(data);
    });
</script>
</body>
</html>